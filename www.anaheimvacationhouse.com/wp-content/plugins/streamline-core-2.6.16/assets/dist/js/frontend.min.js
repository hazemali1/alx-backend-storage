function ChangeWeeksValue(){var search_startdate=jQuery("#search_start_date").val(),val_enddate=jQuery("#search_end_date option:selected").text();jQuery("#search_end_date").val("").change(),0<search_startdate.length&&(jQuery("#search_end_date").val(""),val_enddate.length&&jQuery("#search_end_date option").each(function(){var search_enddate=new Date(search_startdate);if(""!=jQuery(this).val()){var length=jQuery(this).text().split(" "),days=7,search_enddate;days="day"==length[1]||"days"==length[1]?length[0]:7*length[0],(search_enddate=new Date(search_enddate.getTime()+864e5*days)).toLocaleDateString(),search_enddate=search_enddate.format("mm/dd/yyyy"),jQuery(this).val(search_enddate)}}))}function add_tooltip(){jQuery.fn.tooltipster&&(jQuery(".ui-state-disabled.available").tooltipster({interactive:!0,multiple:!0,content:jQuery(".dayOff").html()}),jQuery(".available").tooltipster({interactive:!0,multiple:!0}))}function hide_tooltip(){jQuery(function(){setTimeout(function(){jQuery(document).find(".available").hover(function(e){jQuery(this).attr("data-title",jQuery(this).attr("title")),jQuery(this).removeAttr("title")},function(e){jQuery(this).attr("title",jQuery(this).attr("data-title"))})},500)})}function run_waitMe(container,effect,message){message=void 0!==message?message:"Please wait ...",effect=void 0!==effect?effect:"bounce",jQuery(container).waitMe({effect:"ios",text:message,bg:"rgba(255,255,255,0.7)",color:"#000",sizeW:"",sizeH:"",source:assetsUrl+"images/bigrotation.svg"})}function hide_waitMe(container){jQuery(container).waitMe("hide")}!function($){$(document).ready(function(){var startDate,startDate,endDate,endDate,days_count_same,startDate,enddate,days_count_same;jQuery("#streamlinecore_fw_ra_id option[value=0],#resortpro_sw_ra_id option[value=0]").attr("disabled",!0),$("html, body").animate({scrollTop:0}),jQuery(".enable_turn_day_searching").on("submit",function(e){"0"!=jQuery("#search_end_date").val()?jQuery(".restriction_turn_day_search").hide():""!=jQuery("#search_start_date").val()&&"0"==jQuery("#search_end_date").val()&&(jQuery(".restriction_turn_day_search").show(),e.preventDefault())}),!(startDate=jQuery(location).attr("href").split("sd="))[1]||1<(startDate=(startDate=startDate[1].split("&"))[0].split("%2F")).length&&jQuery("#search_start_date").val(startDate[0]+"/"+startDate[1]+"/"+startDate[2]);(endDate=jQuery(location).attr("href").split("ed="))[1]&&(endDate=(endDate=endDate[1].split("&"))[0].split("%2F"),startDate[0]==endDate[0]?(7==(days_count_same=endDate[1]-startDate[1])&&jQuery("#search_end_date option[value=1]").prop("selected","selected").val(endDate[0]+"/"+endDate[1]+"/"+endDate[2]),14==days_count_same&&jQuery("#search_end_date option[value=2]").prop("selected","selected").val(endDate[0]+"/"+endDate[1]+"/"+endDate[2]),21==days_count_same&&jQuery("#search_end_date option[value=3]").prop("selected","selected").val(endDate[0]+"/"+endDate[1]+"/"+endDate[2])):((days_count_same=30-(startDate=+startDate[1])+ +endDate[1])<=9&&jQuery("#search_end_date option[value=1]").prop("selected","selected").val(endDate[0]+"/"+endDate[1]+"/"+endDate[2]),9<days_count_same&&days_count_same<=16&&jQuery("#search_end_date option[value=2]").prop("selected","selected").val(endDate[0]+"/"+endDate[1]+"/"+endDate[2]),16<days_count_same&&jQuery("#search_end_date option[value=3]").prop("selected","selected").val(endDate[0]+"/"+endDate[1]+"/"+endDate[2])));$("#search_start_date").change(function(){jQuery("#search_end_date option[value=0]").prop("selected","selected")}),$(".form-checkout-wrapper .panel-collapse").on("show.bs.collapse  ",function(){$(this).parent().find(".panel-heading").addClass("open")}),$(".form-checkout-wrapper .panel-collapse").on("shown.bs.collapse ",function(){if($(window).width()<"767"){var collapse=$(this).parent(),collapseId=collapse.context.id;$("html, body").animate({scrollTop:collapse.offset().top},50),"step2"==collapseId&&$("#step2 .resortpro-reservation-details-mobile").sticky({topSpacing:0}),"step3"==collapseId&&$("#step3 .resortpro-reservation-details-mobile").sticky({topSpacing:0}),$("#step2 .resortpro-reservation-details").sticky({topSpacing:0,bottomSpacing:$(document).height()-$("#btn-step-2").offset().top})}}),$(".form-checkout-wrapper .panel-collapse").on("hide.bs.collapse  ",function(){if($(window).width()<"767"){$(this).parent().find(".panel-heading").removeClass("open");var collapse,collapseId=$(this).parent().context.id;"step2"==collapseId&&$("#step2 .resortpro-reservation-details-mobile").unstick(),"step3"==collapseId&&$("#step3 .resortpro-reservation-details-mobile").unstick()}}),(offset=0)<$("body.admin-bar").length&&(offset=32);var topSpacingVal=offset+parseInt($(".map_sticky").attr("data-top-spacing")),bottomSpacingVal=parseInt($(".map_sticky").attr("data-bottom-spacing"));jQuery(".map_sticky").sticky({topSpacing:topSpacingVal,bottomSpacing:bottomSpacingVal}),jQuery().tooltip&&$("body").tooltip({selector:".btn-fav, .petFriendly, .js-btnFav, .js-petFriendly, .btn-cmp"}),"768"<=$(window).width()&&$(".g_tooltip").tooltip({html:!0,placement:"right"}),$(window).width()<"767"&&$(".g_tooltip").tooltip({html:!0,placement:"top"}),$(".container_input input, .container_input select").click(function(e){$(this).siblings(".g_tooltip").tooltip("show")}),$(".container_input input, .container_input select").focusout(function(e){$(this).siblings(".g_tooltip").tooltip("hide")}),$(".btn-sort").click(function(){$(".btn-sort").removeClass("active"),$(this).addClass("active")});var multiselect=$("select.js-multiselect"),multiselectSelOpt=[];multiselect&&setTimeout(function(){multiselect.multiselect({buttonText:function(options,select){if(0===options.length)return select[0].getAttribute("data-title");var labels=[];return options.each(function(){void 0!==$(this).attr("label")?labels.push($(this).attr("label")):labels.push($(this).html())}),labels.join(", ")+""},onInitialized:function(select,container){Array.prototype.forEach.call(select[0],function(el,index,array){el.getAttribute("selected")&&multiselectSelOpt.push(el.getAttribute("value"))})}}),multiselectSelOpt.length&&(multiselect.multiselect("select",multiselectSelOpt),multiselect.multiselect("updateButtonText",!0))},50);var checkin_days=0,arr_turndates=[],str_turndates=[],calendarBtn;function loadDatePicker(target){isNaN(target.attr("data-checkin-days"))||(checkin_days=target.attr("data-checkin-days"));var str_turndates=target.attr("data-turndates");"number"==typeof str_turndates?arr_turndates.push(str_turndates.toString()):arr_turndates=str_turndates&&-1<str_turndates.indexOf(",")?str_turndates.split(","):[],moment.locale(jsLangVars.currentLanguage);var drp=$("#search_date_range"),searchDateRange=$("#search_date_range"),minCheckinDate=moment().add(checkin_days,"days"),minDaysToStay=0,calendarIterations=0,drpPlaceholder=$(".js-drpPlaceholder");if(isNaN(searchDateRange.attr("data-min-stay"))||(minDaysToStay=searchDateRange.attr("data-min-stay")),"one-popup-calendar"===searchDateRange.data("calendar-type")){var oneMonth=!0;$(window).innerWidth()<=768&&(oneMonth=!1,setTimeout(function(){$(".daterangepicker .drp-calendar.right").hide()},1e3)),drp.daterangepicker({locale:{format:"MM/DD/YYYY",monthNames:moment.months()},linkedCalendars:oneMonth,alwaysShowCalendars:!0,buttonClasses:!0,minDate:minCheckinDate.format("MM/DD/YYYY"),minSpan:{days:minDaysToStay},autoApply:!0,autoUpdateInput:!1,isInvalidDate:function(date){if(arr_turndates.length&&-1===$.inArray(date.day().toString(),arr_turndates))return!0},isCustomDate:function(date){var leftCalendarMonth=drp.data("daterangepicker").leftCalendar.month.month(),currentMonth;if(calendarIterations++,parseInt((calendarIterations-1)/42)%2==0&&(currentMonth=leftCalendarMonth),parseInt((calendarIterations-1)/42)%2==1&&(currentMonth=11!==leftCalendarMonth?leftCalendarMonth+1:0),date.month()!==currentMonth)return"other-month"}},function(start,end,label){var selectedStartDate=start.format("MM/DD/YYYY"),selectedEndDate=end.format("MM/DD/YYYY");searchDateRange.val(selectedStartDate+" - "+selectedEndDate)});var flexDate="";drp.on("show.daterangepicker",function(ev,picker){var drpButtons=$("div.daterangepicker .drp-buttons");if($("#resortpro_calendar_flex").hasClass("enabled")){var isFlex=$("#resortpro_calendar_flex").val();drpButtons.css("display","block").append('<div class="flex-calendar" ><div class="dp-flex noflex" data-flex="0">Exact dates</div><div class="dp-flex flex1" data-flex="1"> ±1 day</div><div class="dp-flex flex2" data-flex="2"> ±2 days</div><div class="dp-flex flex3" data-flex="3"> ±3 days</div></div>'),""!==isFlex?$(".dp-flex").each(function(){$(this).attr("data-flex")==isFlex&&$(this).addClass("dp-flex-active")}):$(".noflex").addClass("dp-flex-active"),$("div.daterangepicker .drp-buttons .flex-calendar .dp-flex").on("click",function(event){$(this).addClass("dp-flex-active"),$(".dp-flex").removeClass("dp-flex-active"),$(this).addClass("dp-flex-active"),flexDate=$(this).attr("data-flex")}),drpButtons.css("display","block").append('<button class="cancelBtn flex-closebtn" type="button" style="display: block;">Done</button>')}drpButtons.css("display","block").append('<a class="clearBtn btn btn-link" href="#">'+jsLangVars.drpBtnText+"</a>"),$("div.daterangepicker .clearBtn").on("click",function(event){event.preventDefault(),drp.val(""),picker.setStartDate(moment()),picker.setEndDate(moment()),picker.endDate=moment(),calendarIterations=0,picker.updateCalendars(),drpPlaceholder.css("display","block"),drp.one("hide.daterangepicker",function(ev,picker){picker.startDate.isSameOrBefore(minCheckinDate,"day")&&picker.endDate.isSameOrBefore(minCheckinDate,"day")&&(drp.val(""),picker.endDate=moment())})})}),drp.on("hide.daterangepicker",function(ev,picker){$("div.daterangepicker .clearBtn").remove(),$("#resortpro_calendar_flex").hasClass("enabled")&&($("div.daterangepicker .flex-calendar").remove(),$("div.daterangepicker .cancelBtn.flex-closebtn").remove(),$("#resortpro_calendar_flex").val(flexDate)),calendarIterations=0}),drp.on("showCalendar.daterangepicker",function(ev,picker){calendarIterations=0}),drp.on("apply.daterangepicker",function(ev,picker){drp.change(),drpPlaceholder.css("display","none")}),drp.val()||drpPlaceholder.css("display","block")}else{var calendarMonthsLimit=$("#monthsLimit").text();$(document).find(".datepicker").datepicker({minDate:"+"+checkin_days+"d",dateFormat:"m/d/yy",maxDate:calendarMonthsLimit,beforeShowDay:function(date){var is_available=!0,class_day="available";if("search_start_date"==$(this).attr("id")&&(0<arr_turndates.length&&-1==$.inArray(date.getUTCDay().toString(),arr_turndates)&&(is_available=!1),is_available||(class_day="booked")),"search_end_date"==$(this).attr("id")){var start_date=$("#search_start_date").datepicker("getDate");start_date?0<arr_turndates.length&&start_date.getUTCDay().toString()!=date.getUTCDay().toString()&&(is_available=!1,class_day="booked"):(0<arr_turndates.length&&-1==$.inArray(date.getUTCDay().toString(),arr_turndates)&&(is_available=!1),is_available||(class_day="booked"))}return[is_available,class_day]},onClose:function(){$(this).blur()},autoclose:!0,todayHighlight:!0}),$(".datepicker-end").datepicker({minDate:"+2d",dateFormat:"m/d/yy"}),$(".datepicker").change(function(){var frm=new Date(jQuery(this).val()),the_year=frm.getFullYear();the_year<2e3&&(the_year=2e3+the_year%100);var nts=1;$("#resortpro_min_days").attr("value")&&($nts=parseInt(jQuery("#resortpro_min_days").attr("value")));var endpicker=$(this).attr("data-bindpicker");if(endpicker&&0!==endpicker.length){$(endpicker).datepicker("option","minDate",to),$(this).attr("data-min-stay")&&(nts=parseInt(jQuery(this).attr("data-min-stay")));var checkin_days=0;isNaN($(this).attr("data-checkin-days"))||(checkin_days=parseInt($(this).attr("data-checkin-days")));var minDate=new Date(the_year,frm.getMonth(),frm.getDate()+nts),to=new Date(the_year,frm.getMonth(),frm.getDate()+checkin_days);$(endpicker).datepicker("option","minDate",minDate),$(endpicker).val(to.format("mm/dd/yyyy")),setTimeout(function(){$(endpicker).datepicker("show")},0)}})}}loadDatePicker(jQuery(".datepicker")),jQuery(".datepicker").click(function(){"search_start_date"==jQuery(this).attr("id")?jQuery("#search_start_date").datepicker("show"):jQuery("#search_end_date").datepicker("show"),loadDatePicker(jQuery(this))}),setTimeout(function(){if("slick"in $.fn&&"function"==typeof $.fn.slick){var count=jQuery(".slider").children().length;3<=count?(count=3,jQuery(".slider").addClass("triple_slide")):(count=2,jQuery(".slider").addClass("double_slide")),jQuery(".slider").slick({centerMode:!1,centerPadding:"60px",slidesToShow:count,slidesToScroll:1,infinite:!1,responsive:[{breakpoint:991,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:2}},{breakpoint:700,settings:{centerMode:!0,centerPadding:"40px",slidesToShow:1}}]})}jQuery(document).find(".controls .scrollLeft").click(function(){jQuery(document).find(".slick-prev.slick-arrow").click(),jQuery(document).find(".slick-prev.slick-arrow").hasClass("slick-disabled")?jQuery(this).addClass("slick-disabled"):(jQuery(this).removeClass("slick-disabled"),jQuery(".controls .scrollRight").removeClass("slick-disabled"),jQuery(".slick-next.slick-arrow.slick-disabled").removeClass("slick-disabled"))}),jQuery(document).find(".controls .scrollRight").click(function(){jQuery(document).find(".slick-next.slick-arrow").click(),jQuery(document).find(".slick-next.slick-arrow").hasClass("slick-disabled")?jQuery(this).addClass("slick-disabled"):(jQuery(this).removeClass("slick-disabled"),jQuery(".controls .scrollLeft").removeClass("slick-disabled"),jQuery(".slick-prev.slick-arrow.slick-disabled").removeClass("slick-disabled"))})},3e3),$(".js-calendarBtn").on("click",function(event){event.preventDefault(),$(this).parents(".form-group").find(".hasDatepicker").focus()}),$("#slider-range").slider({range:!0,min:0,max:500,values:[75,300],slide:function(event,ui){$("#amount").val("$"+ui.values[0]+" - $"+ui.values[1])}}),$("#amount").val("$"+$("#slider-range").slider("values",0)+" - $"+$("#slider-range").slider("values",1)),$("#collapseFilters").on("shown.bs.collapse",function(){$("#btn-collapse span").html("Hide filters")}),$("#collapseFilters").on("hidden.bs.collapse",function(){$("#btn-collapse span").html("Show more filters")}),$(".btn-mobile-details").click(function(){var target=$(this).attr("href"),is_mobile_visible;return"false"==String($(target).data("visible"))?($(target).css("display","block"),$(target).data("visible","true"),$(this).html("Hide details")):($(target).css("display","none"),$(target).data("visible","false"),$(this).html("See more details")),!1}),$(document).on("click",".btn-price-breakdown",function(){return $(".breakdown-days-hidden").each(function(){0==$(this).data("visible")?($(this).css("display","table-row"),$(this).data("visible",!0),$(".btn-price-breakdown span").html("Hide Breakdown"),$(".btn-price-breakdown i").removeClass("glyphicon-menu-down").addClass("glyphicon-menu-up")):($(this).css("display","none"),$(this).data("visible",!1),$(".btn-price-breakdown span").html("View Breakdown"),$(".btn-price-breakdown i").removeClass("glyphicon-menu-up").addClass("glyphicon-menu-down"))}),!1}),$(document).on("click",".btn-taxes-breakdown",function(){return $(".breakdown-taxes-hidden").each(function(){0==$(this).data("visible")?($(this).css("display","table-row"),$(this).data("visible",!0),$(".btn-taxes-breakdown span").html("Hide Breakdown"),$(".btn-taxes-breakdown i").removeClass("glyphicon-menu-down").addClass("glyphicon-menu-up")):($(this).css("display","none"),$(this).data("visible",!1),$(".btn-taxes-breakdown span").html("View Breakdown"),$(".btn-taxes-breakdown i").removeClass("glyphicon-menu-up").addClass("glyphicon-menu-down"))}),!1}),$(document).on("click",".btn-fees-breakdown",function(){return $(".breakdown-fees-hidden").each(function(){0==$(this).data("visible")?($(this).css("display","table-row"),$(this).data("visible",!0),$(".btn-fees-breakdown span").html("Hide Breakdown")):($(this).css("display","none"),$(this).data("visible",!1),$(".btn-fees-breakdown span").html("View Breakdown"))}),!1})}),$(document).delegate('*[data-toggle="lightbox"]',"click",function(event){event.preventDefault(),$(this).ekkoLightbox()});var compareElem=$(".js-compareElem");compareElem.length&&$(window).scroll(function(){var compareElemPosition=compareElem.offset(),compareElemHeight=compareElem.height(),compareBar=$("#compareBar"),compareBarSlideOffset=10;compareElem=$(".js-compareElem"),767<$(window).width()&&($(window).scrollTop()>compareElemPosition.top+compareElemHeight+10?compareBar.addClass("is-sticky"):compareBar.removeClass("is-sticky"))})}(jQuery),"320"<jQuery(window).width()&&(jQuery(document).ready(function(){jQuery("#resortpro_sw_destination,#resortpro_sw_lodging_unit.autocomplete").addClass("chosen-select-deselect");var config={".chosen-select":{},".chosen-select-deselect":{allow_single_deselect:!0,search_contains:!0},".chosen-select-no-single":{disable_search_threshold:10},".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"100%"}};for(var selector in config)jQuery(selector).chosen(config[selector])}),jQuery(document).ready(function(){jQuery(".chosen-search").on("touchstart",function(e){e.stopPropagation()}),jQuery(".chosen-search").on("click",function(e){e.stopPropagation(),jQuery(".chosen-results").toggleClass("selected_chosen_results"),jQuery(".chosen-single").hide()}),jQuery(window).click(function(){jQuery(".chosen-results").removeClass("selected_chosen_results"),jQuery(".chosen-single").show()}),jQuery(document).on("touchstart",".chosen-results.selected_chosen_results",function(e){e.stopPropagation(),jQuery(".chosen-results").removeClass("selected_chosen_results"),jQuery(".chosen-single").show()}),jQuery(".chosen-container").on("click",function(e){e.stopPropagation(),jQuery(".chosen-results").removeClass("selected_chosen_results"),jQuery(".chosen-single").show()})})),function(){var $,AbstractChosen,Chosen,SelectParser,_ref,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};(SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(child){return"OPTGROUP"===child.nodeName.toUpperCase()?this.add_group(child):this.add_option(child)},SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref,_results;for(group_position=this.parsed.length,this.parsed.push({array_index:group_position,group:!0,label:this.escapeExpression(group.label),title:group.title?group.title:void 0,children:0,disabled:group.disabled,classes:group.className}),_results=[],_i=0,_len=(_ref=group.childNodes).length;_i<_len;_i++)option=_ref[_i],_results.push(this.add_option(option,group_position,group.disabled));return _results},SelectParser.prototype.add_option=function(option,group_position,group_disabled){if("OPTION"===option.nodeName.toUpperCase())return""!==option.text?(null!=group_position&&(this.parsed[group_position].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,title:option.title?option.title:void 0,selected:option.selected,disabled:!0===group_disabled?group_disabled:option.disabled,group_array_index:group_position,group_label:null!=group_position?this.parsed[group_position].label:null,classes:option.className,style:option.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},SelectParser.prototype.escapeExpression=function(text){var map,unsafe_chars;return null==text||!1===text?"":/[\&\<\>\"\'\`]/.test(text)?(map={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unsafe_chars=/&(?!\w+;)|[\<\>\"\'\`]/g,text.replace(unsafe_chars,function(chr){return map[chr]||"&amp;"})):text},SelectParser}()).select_to_array=function(select){var child,parser,_i,_len,_ref;for(parser=new SelectParser,_i=0,_len=(_ref=select.childNodes).length;_i<_len;_i++)child=_ref[_i],parser.add_node(child);return parser.parsed},AbstractChosen=function(){function AbstractChosen(form_field,options){this.form_field=form_field,this.options=null!=options?options:{},this.label_click_handler=__bind(this.label_click_handler,this),AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return AbstractChosen.prototype.set_default_values=function(){var _this=this;return this.click_test_action=function(evt){return _this.test_active_click(evt)},this.activate_action=function(evt){return _this.activate_field(evt)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},AbstractChosen.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.choice_label=function(item){return this.include_group_label_in_selected&&null!=item.group_label?"<b class='group-name'>"+item.group_label+"</b>"+item.html:item.html},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return _this.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return _this.blur_test()},100)},AbstractChosen.prototype.label_click_handler=function(evt){return this.is_multiple?this.container_mousedown(evt):this.activate_field()},AbstractChosen.prototype.results_option_build=function(options){var content,data,data_content,shown_results,_i,_len,_ref;for(content="",_i=shown_results=0,_len=(_ref=this.results_data).length;_i<_len&&((data_content="")!==(data_content=(data=_ref[_i]).group?this.result_add_group(data):this.result_add_option(data))&&(shown_results++,content+=data_content),(null!=options?options.first:void 0)&&(data.selected&&this.is_multiple?this.choice_build(data):data.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(data))),!(shown_results>=this.max_shown_results));_i++);return content},AbstractChosen.prototype.result_add_option=function(option){var classes,option_el;return option.search_match&&this.include_option_in_results(option)?(classes=[],option.disabled||option.selected&&this.is_multiple||classes.push("active-result"),!option.disabled||option.selected&&this.is_multiple||classes.push("disabled-result"),option.selected&&classes.push("result-selected"),null!=option.group_array_index&&classes.push("group-option"),""!==option.classes&&classes.push(option.classes),(option_el=document.createElement("li")).className=classes.join(" "),option_el.style.cssText=option.style,option_el.setAttribute("data-option-array-index",option.array_index),option_el.innerHTML=option.search_text,option.title&&(option_el.title=option.title),this.outerHTML(option_el)):""},AbstractChosen.prototype.result_add_group=function(group){var classes,group_el;return(group.search_match||group.group_match)&&0<group.active_options?((classes=[]).push("group-result"),group.classes&&classes.push(group.classes),(group_el=document.createElement("li")).className=classes.join(" "),group_el.innerHTML=group.search_text,group.title&&(group_el.title=group.title),this.outerHTML(group_el)):""},AbstractChosen.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},AbstractChosen.prototype.reset_single_select_options=function(){var result,_i,_len,_ref,_results;for(_results=[],_i=0,_len=(_ref=this.results_data).length;_i<_len;_i++)(result=_ref[_i]).selected?_results.push(result.selected=!1):_results.push(void 0);return _results},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(evt){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var escapedSearchText,highlightRegex,option,regex,results,results_group,searchText,startpos,text,_i,_len,_ref;for(this.no_results_clear(),results=0,escapedSearchText=(searchText=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),regex=this.get_search_regex(escapedSearchText),highlightRegex=this.get_highlight_regex(escapedSearchText),_i=0,_len=(_ref=this.results_data).length;_i<_len;_i++)(option=_ref[_i]).search_match=!1,results_group=null,this.include_option_in_results(option)&&(option.group&&(option.group_match=!1,option.active_options=0),null!=option.group_array_index&&this.results_data[option.group_array_index]&&(0===(results_group=this.results_data[option.group_array_index]).active_options&&results_group.search_match&&(results+=1),results_group.active_options+=1),option.search_text=option.group?option.label:option.html,option.group&&!this.group_search||(option.search_match=this.search_string_match(option.search_text,regex),option.search_match&&!option.group&&(results+=1),option.search_match?(searchText.length&&(startpos=option.search_text.search(highlightRegex),text=option.search_text.substr(0,startpos+searchText.length)+"</em>"+option.search_text.substr(startpos+searchText.length),option.search_text=text.substr(0,startpos)+"<em>"+text.substr(startpos)),null!=results_group&&(results_group.group_match=!0)):null!=option.group_array_index&&this.results_data[option.group_array_index].search_match&&(option.search_match=!0)));return this.result_clear_highlight(),results<1&&searchText.length?(this.update_results_content(""),this.no_results(searchText)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.get_search_regex=function(escaped_search_string){var regex_anchor,regex_flag;return regex_anchor=this.search_contains?"":"^",regex_flag=this.case_sensitive_search?"":"i",new RegExp(regex_anchor+escaped_search_string,regex_flag)},AbstractChosen.prototype.get_highlight_regex=function(escaped_search_string){var regex_anchor,regex_flag;return regex_anchor=this.search_contains?"":"\\b",regex_flag=this.case_sensitive_search?"":"i",new RegExp(regex_anchor+escaped_search_string,regex_flag)},AbstractChosen.prototype.search_string_match=function(search_string,regex){var part,parts,_i,_len;if(regex.test(search_string))return!0;if(this.enable_split_word_search&&(0<=search_string.indexOf(" ")||0===search_string.indexOf("["))&&(parts=search_string.replace(/\[|\]/g,"").split(" ")).length)for(_i=0,_len=parts.length;_i<_len;_i++)if(part=parts[_i],regex.test(part))return!0},AbstractChosen.prototype.choices_count=function(){var option,_i,_len,_ref;if(null!=this.selected_option_count)return this.selected_option_count;for(_i=this.selected_option_count=0,_len=(_ref=this.form_field.options).length;_i<_len;_i++)(option=_ref[_i]).selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(evt){if(evt.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},AbstractChosen.prototype.keydown_checker=function(evt){var stroke,_ref;switch(stroke=null!=(_ref=evt.which)?_ref:evt.keyCode,this.search_field_scale(),8!==stroke&&this.pending_backstroke&&this.clear_backstroke(),stroke){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(evt),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&evt.preventDefault();break;case 32:this.disable_search&&evt.preventDefault();break;case 38:evt.preventDefault(),this.keyup_arrow();break;case 40:evt.preventDefault(),this.keydown_arrow()}},AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;switch(stroke=null!=(_ref=evt.which)?_ref:evt.keyCode,this.search_field_scale(),stroke){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:evt.preventDefault(),this.results_showing&&this.result_select(evt);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},AbstractChosen.prototype.clipboard_event_checker=function(evt){var _this=this;if(!this.is_disabled)return setTimeout(function(){return _this.results_search()},50)},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(option){return!(this.is_multiple&&!this.display_selected_options&&option.selected)&&(!(!this.display_disabled_options&&option.disabled)&&!option.empty)},AbstractChosen.prototype.search_results_touchstart=function(evt){return this.touch_started=!0,this.search_results_mouseover(evt)},AbstractChosen.prototype.search_results_touchmove=function(evt){return this.touch_started=!1,this.search_results_mouseout(evt)},AbstractChosen.prototype.search_results_touchend=function(evt){if(this.touch_started)return this.search_results_mouseup(evt)},AbstractChosen.prototype.outerHTML=function(element){var tmp;return element.outerHTML?element.outerHTML:((tmp=document.createElement("div")).appendChild(element),tmp.innerHTML)},AbstractChosen.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default"  autocomplete="false">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input name="chosen-search-input" class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},AbstractChosen.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="false" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},AbstractChosen.prototype.get_no_results_html=function(terms){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+terms+"</span>\n</li>"},AbstractChosen.browser_is_supported=function(){return!0},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),($=jQuery).fn.extend({chosen:function(options){return AbstractChosen.browser_is_supported()?this.each(function(input_field){var $this,chosen;chosen=($this=$(this)).data("chosen"),"destroy"!==options?chosen instanceof Chosen||$this.data("chosen",new Chosen(this,options)):chosen instanceof Chosen&&chosen.destroy()}):this}}),Chosen=function(_super){function Chosen(){return _ref=Chosen.__super__.constructor.apply(this,arguments)}return __extends(Chosen,_super),Chosen.prototype.setup=function(){return this.form_field_jq=$(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},Chosen.prototype.set_up_html=function(){var container_classes,container_props;return(container_classes=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&container_classes.push(this.form_field.className),this.is_rtl&&container_classes.push("chosen-rtl"),container_props={class:container_classes.join(" "),title:this.form_field.title},this.form_field.id.length&&(container_props.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=$("<div />",container_props),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},Chosen.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var _this=this;return this.container.bind("touchstart.chosen",function(evt){_this.container_mousedown(evt)}),this.container.bind("touchend.chosen",function(evt){_this.container_mouseup(evt)}),this.container.bind("mousedown.chosen",function(evt){_this.container_mousedown(evt)}),this.container.bind("mouseup.chosen",function(evt){_this.container_mouseup(evt)}),this.container.bind("mouseenter.chosen",function(evt){_this.mouse_enter(evt)}),this.container.bind("mouseleave.chosen",function(evt){_this.mouse_leave(evt)}),this.search_results.bind("mouseup.chosen",function(evt){_this.search_results_mouseup(evt)}),this.search_results.bind("mouseover.chosen",function(evt){_this.search_results_mouseover(evt)}),this.search_results.bind("mouseout.chosen",function(evt){_this.search_results_mouseout(evt)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(evt){_this.search_results_mousewheel(evt)}),this.search_results.bind("touchstart.chosen",function(evt){_this.search_results_touchstart(evt)}),this.search_results.bind("touchmove.chosen",function(evt){_this.search_results_touchmove(evt)}),this.search_results.bind("touchend.chosen",function(evt){_this.search_results_touchend(evt)}),this.form_field_jq.bind("chosen:updated.chosen",function(evt){_this.results_update_field(evt)}),this.form_field_jq.bind("chosen:activate.chosen",function(evt){_this.activate_field(evt)}),this.form_field_jq.bind("chosen:open.chosen",function(evt){_this.container_mousedown(evt)}),this.form_field_jq.bind("chosen:close.chosen",function(evt){_this.close_field(evt)}),this.search_field.bind("blur.chosen",function(evt){_this.input_blur(evt)}),this.search_field.bind("keyup.chosen",function(evt){_this.keyup_checker(evt)}),this.search_field.bind("keydown.chosen",function(evt){_this.keydown_checker(evt)}),this.search_field.bind("focus.chosen",function(evt){_this.input_focus(evt)}),this.search_field.bind("cut.chosen",function(evt){_this.clipboard_event_checker(evt)}),this.search_field.bind("paste.chosen",function(evt){_this.clipboard_event_checker(evt)}),this.is_multiple?this.search_choices.bind("click.chosen",function(evt){_this.choices_click(evt)}):this.container.bind("click.chosen",function(evt){evt.preventDefault()})},Chosen.prototype.destroy=function(){return $(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.unbind("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_field)},Chosen.prototype.container_mousedown=function(evt){var _ref1;if(!this.is_disabled)return!evt||"mousedown"!==(_ref1=evt.type)&&"touchstart"!==_ref1||this.results_showing||evt.preventDefault(),null!=evt&&$(evt.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!evt||$(evt.target)[0]!==this.selected_item[0]&&!$(evt.target).parents("a.chosen-single").length||(evt.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),$(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(evt){if("ABBR"===evt.target.nodeName&&!this.is_disabled)return this.results_reset(evt)},Chosen.prototype.search_results_mousewheel=function(evt){var delta;if(evt.originalEvent&&(delta=evt.originalEvent.deltaY||-evt.originalEvent.wheelDelta||evt.originalEvent.detail),null!=delta)return evt.preventDefault(),"DOMMouseScroll"===evt.type&&(delta*=40),this.search_results.scrollTop(delta+this.search_results.scrollTop())},Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},Chosen.prototype.close_field=function(){return $(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},Chosen.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(evt){var active_container;return(active_container=$(evt.target).closest(".chosen-container")).length&&this.container[0]===active_container[0]?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){if(this.result_clear_highlight(),this.result_highlight=el,this.result_highlight.addClass("highlighted"),(visible_bottom=(maxHeight=parseInt(this.search_results.css("maxHeight"),10))+(visible_top=this.search_results.scrollTop()))<=(high_bottom=(high_top=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<high_bottom-maxHeight?high_bottom-maxHeight:0);if(high_top<visible_top)return this.search_results.scrollTop(high_top)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},Chosen.prototype.update_results_content=function(content){return this.search_results.html(content)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field.tabIndex)return ti=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=ti},Chosen.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=$("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",this.label_click_handler)},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(evt){var target;if((target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first()).length)return this.result_highlight=target,this.result_select(evt),this.search_field.focus()},Chosen.prototype.search_results_mouseover=function(evt){},Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"))return this.result_clear_highlight()},Chosen.prototype.choice_build=function(item){var choice,close_link,_this=this;return choice=$("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(item)+"</span>"),item.disabled?choice.addClass("search-choice-disabled"):((close_link=$("<a />",{class:"search-choice-close","data-option-array-index":item.array_index})).on("click.chosen",function(evt){return _this.choice_destroy_link_click(evt)}),choice.append(close_link)),this.search_container.before(choice)},Chosen.prototype.choice_destroy_link_click=function(evt){if(evt.preventDefault(),evt.stopPropagation(),!this.is_disabled)return this.choice_destroy($(evt.target))},Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),link.parents("li").first().remove(),this.search_field_scale()},Chosen.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(evt){var high,item;if(this.result_highlight)return high=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?high.removeClass("active-result"):this.reset_single_select_options(),high.addClass("result-selected"),(item=this.results_data[high[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[item.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(item):this.single_set_selected_text(this.choice_label(item)),this.is_multiple&&(!this.hide_results_on_select||evt.metaKey||evt.ctrlKey)||(this.results_hide(),this.show_search_field_default()),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.trigger_form_field_change({selected:this.form_field.options[item.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,evt.preventDefault(),this.search_field_scale())},Chosen.prototype.single_set_selected_text=function(text){return null==text&&(text=this.default_text),text===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(text)},Chosen.prototype.result_deselect=function(pos){var result_data;return result_data=this.results_data[pos],!this.form_field.options[result_data.options_index].disabled&&(result_data.selected=!1,this.form_field.options[result_data.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[result_data.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},Chosen.prototype.get_search_field_value=function(){return this.search_field.val()},Chosen.prototype.get_search_text=function(){return this.escape_html($.trim(this.get_search_field_value()))},Chosen.prototype.escape_html=function(text){return $("<div/>").text(text).html()},Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;if(null!=(do_high=(selected_results=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?selected_results.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(do_high)},Chosen.prototype.no_results=function(terms){var no_results_html;return no_results_html=this.get_no_results_html(terms),this.search_results.append(no_results_html),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var next_sib;return this.results_showing&&this.result_highlight?(next_sib=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(next_sib):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var prev_sibs;return this.results_showing||this.is_multiple?this.result_highlight?(prev_sibs=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(prev_sibs.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(next_available_destroy=this.search_container.siblings("li.search-choice").last()).length&&!next_available_destroy.hasClass("search-choice-disabled")?(this.pending_backstroke=next_available_destroy,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.search_field_scale=function(){var container_width,div,style,style_block,styles,width,_i,_len;if(this.is_multiple){for(style_block={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},_i=0,_len=(styles=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;_i<_len;_i++)style_block[style=styles[_i]]=this.search_field.css(style);return(div=$("<div />").css(style_block)).text(this.get_search_field_value()),$("body").append(div),width=div.width()+25,div.remove(),container_width=this.container.outerWidth(),width=Math.min(container_width-10,width),this.search_field.width(width)}},Chosen.prototype.trigger_form_field_change=function(extra){return this.form_field_jq.trigger("input",extra),this.form_field_jq.trigger("change",extra)},Chosen}(AbstractChosen)}.call(this),jQuery(document).ready(function(){0<jQuery(".top_city_items_container .destination_itm:nth-child(11)").length?jQuery(".r_more_top_cities").on("click",function(){"block"==jQuery(".top_city_items_container .destination_itm:nth-child(11)").css("display")?(jQuery(".top_city_items_container .destination_itm").css("display","none"),jQuery(".top_city_items_container .destination_itm:nth-child(-n+10)").css("display","block"),jQuery(this).html('View More Cities &nbsp;&nbsp;<i class="fa fa-angle-down"></i>')):(jQuery(".top_city_items_container .destination_itm").css("display","block"),jQuery(this).html('View Less Cities &nbsp;&nbsp;<i class="fa fa-angle-up"></i>'))}):jQuery(".r_more_top_cities").remove(),0<jQuery(".top_destinations_items_container .destination_itm:nth-child(11)").length?jQuery(".r_more_top_destination").on("click",function(){"block"==jQuery(".top_destinations_items_container .destination_itm:nth-child(11)").css("display")?(jQuery(".top_destinations_items_container .destination_itm").css("display","none"),jQuery(".top_destinations_items_container .destination_itm:nth-child(-n+10)").css("display","block"),jQuery(this).html('View More Destinations &nbsp;&nbsp;<i class="fa fa-angle-down"></i>')):(jQuery(".top_destinations_items_container .destination_itm").css("display","block"),jQuery(this).html('View Less Destinations &nbsp;&nbsp;<i class="fa fa-angle-up"></i>'))}):jQuery(".r_more_top_destination").remove(),jQuery(".streamshare_global_template")[0]&&(jQuery(".page-template-default").addClass("page-template-streamshare-global"),jQuery("#contentarea").addClass("ss_template"))});